<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ALEX SUPREME V13.0 - PREMIUM TOOL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap');
        
        :root {
            --primary: #00f2ff;
            --secondary: #7000ff;
            --bg: #050505;
        }

        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Hiệu ứng nền Laser */
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }

        .cyber-panel {
            background: rgba(10, 10, 10, 0.95);
            border: 2px solid rgba(0, 242, 255, 0.2);
            border-radius: 25px;
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.1), inset 0 0 15px rgba(0, 242, 255, 0.05);
            width: 100%;
            max-width: 400px;
            padding: 30px;
            position: relative;
        }

        .input-group input {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: var(--primary) !important;
            font-family: 'Orbitron', sans-serif;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: var(--primary) !important;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
            background: rgba(255, 255, 255, 0.05) !important;
        }

        .btn-main {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            text-transform: uppercase;
            transition: 0.5s;
            cursor: pointer;
        }

        .btn-main:hover {
            letter-spacing: 2px;
            box-shadow: 0 0 20px var(--primary);
        }

        /* Tích xanh Success */
        .success-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 25px;
            display: none;
        }

        .checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: block;
            stroke-width: 2;
            stroke: #4bb543;
            stroke-miterlimit: 10;
            box-shadow: inset 0px 0px 0px #4bb543;
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        }

        @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 40px #4bb543; } }
        
        .result-tai { color: #00f2ff; text-shadow: 0 0 20px #00f2ff; font-size: 5rem; font-family: 'Orbitron'; font-weight: 900; }
        .result-xiu { color: #ff0055; text-shadow: 0 0 20px #ff0055; font-size: 5rem; font-family: 'Orbitron'; font-weight: 900; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div id="success-msg" class="success-overlay animate__animated">
    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
        <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
        <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" stroke-width="4" stroke="#fff"/>
    </svg>
    <p class="mt-4 text-green-500 font-bold uppercase tracking-widest" id="success-text">THÀNH CÔNG</p>
</div>

<div class="w-full max-w-[420px] p-4 z-10">

    <div id="login-box" class="cyber-panel animate__animated animate__fadeIn">
        <div class="text-center mb-8">
            <h1 style="font-family: 'Orbitron'" class="text-4xl font-black italic text-white">ALEX <span class="text-cyan-400">V13</span></h1>
            <div class="h-1 w-20 bg-cyan-500 mx-auto mt-2"></div>
        </div>
        <div class="space-y-4 input-group">
            <input id="u" type="text" placeholder="USERNAME" class="w-full p-4 rounded-xl outline-none">
            <input id="p" type="password" placeholder="PASSWORD" class="w-full p-4 rounded-xl outline-none">
            <button onclick="doLogin()" class="w-full py-4 btn-main rounded-xl text-sm">Đăng Nhập</button>
        </div>
        <div class="flex justify-between mt-6 text-[10px] font-bold uppercase text-gray-500">
            <button onclick="showBox('reg')" class="hover:text-cyan-400">Tạo tài khoản</button>
            <button id="adm-btn" onclick="openAdmin()" class="text-red-800">Cpanel</button>
        </div>
    </div>

    <div id="reg-box" class="hidden cyber-panel animate__animated animate__fadeIn">
        <h2 class="text-center font-bold text-cyan-400 mb-6 uppercase tracking-widest">Đăng Ký Hệ Thống</h2>
        <div class="space-y-3 input-group">
            <input id="r-u" type="text" placeholder="TÊN ĐĂNG NHẬP" class="w-full p-3 rounded-xl outline-none">
            <input id="r-p" type="password" placeholder="MẬT KHẨU" class="w-full p-3 rounded-xl outline-none">
            <input id="r-sdt" type="number" placeholder="SỐ ĐIỆN THOẠI" class="w-full p-3 rounded-xl outline-none">
            <input id="r-mail" type="email" placeholder="GMAIL" class="w-full p-3 rounded-xl outline-none">
            <button onclick="doReg()" class="w-full py-4 btn-main rounded-xl text-sm mt-2">Xác Nhận Đăng Ký</button>
            <button onclick="showBox('login')" class="w-full text-[10px] text-center text-gray-600 uppercase mt-2">Quay lại đăng nhập</button>
        </div>
    </div>

    <div id="dash-box" class="hidden space-y-4 animate__animated animate__fadeIn">
        <div class="cyber-panel p-6 flex justify-between items-center">
            <div>
                <p id="cur-u" class="text-cyan-400 font-bold uppercase text-xs"></p>
                <p id="cur-b" class="text-2xl font-black"></p>
            </div>
            <button onclick="showBox('nap')" class="bg-white text-black px-4 py-2 rounded-lg text-[10px] font-black hover:bg-cyan-400 transition">NẠP TIỀN</button>
        </div>
        
        <div class="grid grid-cols-2 gap-3">
            <div onclick="buy(25000, 1)" class="cyber-panel !p-4 text-center cursor-pointer hover:border-cyan-400 transition">
                <p class="text-[10px] text-gray-400">GÓI 1 NGÀY</p>
                <p class="text-lg font-bold">25.000đ</p>
            </div>
            <div onclick="buy(150000, 30)" class="cyber-panel !p-4 text-center cursor-pointer hover:border-cyan-400 transition">
                <p class="text-[10px] text-gray-400">GÓI 30 NGÀY</p>
                <p class="text-lg font-bold">150.000đ</p>
            </div>
        </div>

        <div class="cyber-panel space-y-4 input-group">
            <input id="key-in" type="text" placeholder="NHẬP MÃ KEY LICENSE" class="w-full p-4 rounded-xl outline-none text-center">
            <button onclick="activeKey()" class="w-full py-4 btn-main rounded-xl text-sm">KÍCH HOẠT TOOL</button>
        </div>
    </div>

    <div id="tool-box" class="hidden cyber-panel text-center animate__animated animate__zoomIn">
        <div class="flex justify-between text-[9px] text-green-500 font-bold mb-6">
            <span>● SERVER: LIVE</span>
            <span id="hsd-info"></span>
        </div>
        <textarea id="md5-val" placeholder="DÁN MÃ PHIÊN MD5 VÀO ĐÂY..." class="w-full h-32 p-4 rounded-2xl input-group bg-black border border-white/10 text-cyan-400 text-sm mb-4 outline-none uppercase"></textarea>
        <button id="btn-ana" onclick="startAnalysis()" class="w-full py-5 btn-main rounded-2xl text-sm shadow-2xl">PHÂN TÍCH MD5</button>
        
        <div id="res-box" class="hidden mt-6 pt-6 border-t border-white/5">
            <p id="res-text"></p>
            <div id="res-acc" class="text-xs text-cyan-500 font-bold italic mt-4"></div>
        </div>
    </div>

    <div id="nap-box" class="hidden cyber-panel text-center animate__animated animate__fadeInUp">
        <h3 class="text-cyan-400 font-bold mb-4">THANH TOÁN HỆ THỐNG</h3>
        <img id="qr" src="" class="mx-auto rounded-2xl w-48 mb-4 border-2 border-cyan-500/30">
        <div class="bg-cyan-500/5 p-4 rounded-xl border border-cyan-500/20 mb-4">
            <p class="text-[9px] text-gray-500 uppercase">Nội dung chuyển khoản</p>
            <p id="ref-code" class="text-2xl font-black tracking-widest text-white"></p>
        </div>
        <button onclick="showBox('dash')" class="text-xs text-gray-500 hover:text-white underline">Quay lại</button>
    </div>

    <div id="admin-box" class="hidden cyber-panel animate__animated animate__fadeIn">
        <h2 class="text-red-500 font-black text-center mb-6">ADMIN CONTROL</h2>
        <div class="space-y-4 input-group">
            <input id="adm-u" type="text" placeholder="Tên User" class="w-full p-4 rounded-xl outline-none">
            <input id="adm-m" type="number" placeholder="Số tiền cộng" class="w-full p-4 rounded-xl outline-none">
            <button onclick="adminAdd()" class="w-full py-4 bg-red-600 rounded-xl font-bold uppercase">Cộng tiền ngay</button>
            <button onclick="location.reload()" class="w-full text-xs text-center text-gray-600">Thoát</button>
        </div>
    </div>

</div>

<script>
    const CONFIG = {
        ADMIN_IP: "14.191.248.22", 
        ADMIN_PASS: "nguyendu2009@",
        STK: "103886058569",
        BANK_ID: "ICB",
        DB: "ALEX_V13_DATA"
    };

    let currentUser = null;
    let myIP = "";

    // Dữ liệu cục bộ
    const getDB = () => JSON.parse(localStorage.getItem(CONFIG.DB)) || { users: [], keys: [] };
    const saveDB = (db) => localStorage.setItem(CONFIG.DB, JSON.stringify(db));

    // Hiển thị tích xanh Success
    function showSuccess(text, callback) {
        const overlay = document.getElementById('success-msg');
        document.getElementById('success-text').innerText = text;
        overlay.style.display = 'flex';
        overlay.classList.add('animate__fadeIn');
        
        setTimeout(() => {
            overlay.classList.replace('animate__fadeIn', 'animate__fadeOut');
            setTimeout(() => {
                overlay.style.display = 'none';
                overlay.classList.remove('animate__fadeOut');
                if(callback) callback();
            }, 500);
        }, 1500);
    }

    // Logic Đăng ký
    function doReg() {
        const u = document.getElementById('r-u').value.trim().toUpperCase();
        const p = document.getElementById('r-p').value;
        if(!u || !p) return alert("Thiếu thông tin!");
        
        let db = getDB();
        if(db.users.find(x => x.u === u)) return alert("Tên đã tồn tại!");
        
        db.users.push({ 
            u, p, 
            bal: 0, 
            ref: "ALEX" + Math.floor(1000 + Math.random()*9000), 
            hsd: null 
        });
        saveDB(db);
        showSuccess("ĐĂNG KÝ THÀNH CÔNG", () => showBox('login'));
    }

    // Logic Đăng nhập
    function doLogin() {
        const u = document.getElementById('u').value.trim().toUpperCase();
        const p = document.getElementById('p').value;
        let db = getDB();
        const user = db.users.find(x => x.u === u && x.p === p);
        
        if(user) {
            currentUser = user;
            if(user.hsd && user.hsd > Date.now()) showTool(); else showDash();
        } else alert("Sai tài khoản hoặc mật khẩu!");
    }

    function showBox(id) {
        document.querySelectorAll('.cyber-panel, #dash-box').forEach(el => el.classList.add('hidden'));
        document.getElementById(id + '-box').classList.remove('hidden');
    }

    function showDash() {
        showBox('dash');
        document.getElementById('cur-u').innerText = "Account: " + currentUser.u;
        document.getElementById('cur-b').innerText = currentUser.bal.toLocaleString() + "đ";
    }

    function showTool() {
        showBox('tool');
        document.getElementById('hsd-info').innerText = "HSD: " + new Date(currentUser.hsd).toLocaleDateString();
    }

    function showNap() {
        document.getElementById('ref-code').innerText = currentUser.ref;
        document.getElementById('qr').src = `https://img.vietqr.io/image/${CONFIG.BANK_ID}-${CONFIG.STK}-compact.png?addInfo=${currentUser.ref}`;
        showBox('nap');
    }

    function buy(p, d) {
        let db = getDB();
        const i = db.users.findIndex(x => x.u === currentUser.u);
        if(db.users[i].bal < p) return alert("Không đủ số dư!");
        
        db.users[i].bal -= p;
        const key = "ALEX-" + Math.random().toString(36).substring(5).toUpperCase();
        db.keys.push({ key, days: d, used: false });
        saveDB(db);
        currentUser = db.users[i];
        showDash();
        prompt("COPY KEY CỦA BẠN:", key);
    }

    function activeKey() {
        const key = document.getElementById('key-in').value.trim().toUpperCase();
        let db = getDB();
        const kIdx = db.keys.findIndex(k => k.key === key && !k.used);
        
        if(kIdx === -1) return alert("Key không đúng!");
        
        const uIdx = db.users.findIndex(u => u.u === currentUser.u);
        const addedTime = db.keys[kIdx].days * 86400000;
        db.users[uIdx].hsd = (db.users[uIdx].hsd > Date.now() ? db.users[uIdx].hsd : Date.now()) + addedTime;
        db.keys[kIdx].used = true;
        
        saveDB(db);
        currentUser = db.users[uIdx];
        showSuccess("KÍCH HOẠT THÀNH CÔNG", () => showTool());
    }

    function startAnalysis() {
        const md5 = document.getElementById('md5-val').value.trim();
        if(md5.length < 5) return alert("Dán mã MD5!");
        
        document.getElementById('btn-ana').innerText = "ĐANG QUÉT MÃ...";
        setTimeout(() => {
            let sum = 0;
            for(let i=0; i<md5.length; i++) sum += md5.charCodeAt(i);
            const isTai = sum % 2 === 0;
            
            const r = document.getElementById('res-text');
            r.innerText = isTai ? "TÀI" : "XỈU";
            r.className = isTai ? "result-tai" : "result-xiu";
            document.getElementById('res-acc').innerHTML = "ĐỘ CHÍNH XÁC: " + (95 + Math.random()*4).toFixed(2) + "%";
            
            document.getElementById('res-box').classList.remove('hidden');
            document.getElementById('btn-ana').innerText = "PHÂN TÍCH MD5";
        }, 1500);
    }

    // Admin IP Check
    async function checkIP() {
        const res = await fetch('https://api.ipify.org?format=json');
        const data = await res.json();
        myIP = data.ip;
        if(myIP !== CONFIG.ADMIN_IP) document.getElementById('adm-btn').style.display = 'none';
    }
    checkIP();

    function openAdmin() {
        if(prompt("PASS ADMIN:") === CONFIG.ADMIN_PASS) showBox('admin');
    }

    function adminAdd() {
        const u = document.getElementById('adm-u').value.trim().toUpperCase();
        const m = parseInt(document.getElementById('adm-m').value);
        let db = getDB();
        const idx = db.users.findIndex(x => x.u === u);
        if(idx !== -1) {
            db.users[idx].bal += m;
            saveDB(db);
            showSuccess("ĐÃ CỘNG " + m + "đ", () => showBox('admin'));
        } else alert("Không tìm thấy User!");
    }

    // Canvas hiệu ứng
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function initCanvas() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<80; i++) stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()*2, d: Math.random()*0.5});
    }
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = "#00f2ff";
        stars.forEach(s => {
            ctx.globalAlpha = s.d;
            ctx.beginPath(); ctx.arc(s.x, s.y, s.s, 0, Math.PI*2); ctx.fill();
            s.y -= 0.2; if(s.y < 0) s.y = canvas.height;
        });
        requestAnimationFrame(draw);
    }
    initCanvas(); draw();
</script>

</body>
</html>
